<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éƒ­ç¥¥æŒ¯ - ä¸ªäººä¸»é¡µ</title>
    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        /* ä¸»å®¹å™¨ */
        .container {
            width: 100%;
            max-width: 1000px;
            background: white;
            padding: 40px 50px;
            margin: 40px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }

        /* ========== ç¬¬ä¸€éƒ¨åˆ†ï¼šå¤´éƒ¨ä¿¡æ¯ (å·¦æ–‡å³å›¾) ========== */
        .header-section {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 50px;
            border-bottom: 1px solid #eee;
            padding-bottom: 30px;
        }

        .header-info {
            flex: 1;
            padding-right: 40px;
        }

        .header-info h1 {
            font-size: 2.8em;
            margin: 0 0 10px 0;
            color: #111;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .header-info h1 span {
             font-weight: 300;
             color: #666;
             font-size: 0.5em;
             margin-left: 10px;
             vertical-align: middle;
        }

        .subtitle {
            font-size: 1.3em;
            color: #555;
            margin-bottom: 25px;
            font-weight: 500;
        }

        .contact-info p {
            margin: 8px 0;
            color: #666;
            font-size: 1.05em;
        }

        .contact-info a {
            color: #0066cc;
            text-decoration: none;
        }
        .contact-info a:hover {
            text-decoration: underline;
        }

        .header-avatar {
            width: 180px;
            flex-shrink: 0;
            text-align: right;
        }

        .avatar-img {
            width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            object-fit: cover;
        }
        
        @media (max-width: 850px) {
            .header-section {
                flex-direction: column-reverse;
                align-items: center;
                text-align: center;
            }
            .header-info {
                padding-right: 0;
                margin-top: 25px;
            }
            .header-avatar {
                width: 133px;
                text-align: center;
            }
        }

        /* ========== å†…å®¹æ ·å¼ ========== */
        .content-section {
            margin-bottom: 45px;
        }

        .section-title {
            font-size: 1.6em;
            font-weight: 700;
            color: #222;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
            font-size: 1.05em;
        }

        ul {
            padding-left: 20px;
            font-size: 1.05em;
        }
        li {
            margin-bottom: 10px;
        }

        /* ========== è§†é¢‘é¡¹ç›®å¡ç‰‡æ ·å¼ (æ–°å¢) ========== */
        .video-item {
            margin-bottom: 35px;
            padding: 25px;
            background: #fafafa;
            border-radius: 10px;
            border: 1px solid #eee;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }

        .video-info {
            margin-bottom: 15px;
        }

        .video-info strong {
            font-size: 1.2em;
            color: #0066cc;
            display: block;
            margin-bottom: 5px;
        }

        .video-info em {
            font-style: normal;
            font-size: 1em;
            color: #666;
            margin-bottom: 10px;
            display: block;
        }

        /* è§†é¢‘å®¹å™¨ */
        .video-wrapper {
            width: 100%;
            border-radius: 8px;
            overflow: hidden;
            background: #000;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        video {
            width: 100%;
            display: block;
            max-height: 500px; /* é˜²æ­¢è§†é¢‘è¿‡é«˜ */
        }

        /* 3D Viewer å®¹å™¨ */
        .viewer-wrapper {
            width: 100%;
            height: 500px;
            border-radius: 8px;
            overflow: hidden;
            background: #000;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: relative;
        }

        /* å°é¢æ ·å¼ */
        .viewer-cover {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            background-color: #000;
            z-index: 30;
            transition: opacity 0.3s ease;
        }

        .viewer-cover:hover {
            opacity: 0.95;
        }

        .viewer-cover img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .viewer-cover .play-button {
            position: absolute;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            color: #333;
            transition: transform 0.2s ease;
        }

        .viewer-cover:hover .play-button {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 1);
        }

        .viewer-cover.hidden {
            display: none;
        }

        #ply-viewer {
            width: 100%;
            height: 100%;
            display: block;
        }

        .viewer-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 0.85em;
            z-index: 10;
        }

        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 20;
        }

        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* é»‘ä½“å­—ä½“æ ·å¼ */
        .heiti {
            font-family: "Microsoft YaHei", "SimHei", "é»‘ä½“", sans-serif;
            font-weight: bold;
        }

    </style>
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>

    <div class="container">

        <header class="header-section">
            <div class="header-info">
                <h1>éƒ­ç¥¥æŒ¯ <span>Guo Xiangzhen</span></h1>
                <div class="subtitle">ä¸“æ³¨äº 3D åœºæ™¯é‡å»º | è‡ªåŠ¨é©¾é©¶ </div>
                
                <div class="contact-info">
                    <p><strong>ä¸œåŒ—å¤§å­¦ (985)</strong> | äºŒå¹´çº§ç¡•å£«ç ”ç©¶ç”Ÿ</p>
                    <p><strong>å¯¼å¸ˆï¼š</strong><a href="http://faculty.neu.edu.cn/ise/zhangyunzhou" target="_blank">å¼ äº‘æ´² æ•™æˆ</a></p>
                    <p><strong>å¾®ä¿¡ï¼š</strong>g15225930423</p>
                    <p><strong>é‚®ç®±ï¼š</strong>2429312850@qq.com</p>
                </div>
            </div>

            <div class="header-avatar">
                <img src="./imgs/gxz.png" alt="éƒ­ç¥¥æŒ¯" class="avatar-img">
            </div>
        </header>

        <section class="content-section">
            <div class="section-title">ä¸ªäººç®€ä»‹ (Biography)</div>
            <p>
                æˆ‘æ˜¯éƒ­ç¥¥æŒ¯ã€‚æœ¬ç§‘æ¯•ä¸šäºä¸œåŒ—å¤§å­¦æµ‹æ§æŠ€æœ¯ä¸ä»ªå™¨ä¸“ä¸šï¼Œç›®å‰åœ¨ä¸œåŒ—å¤§å­¦æ”»è¯»æ§åˆ¶ç§‘å­¦ä¸å·¥ç¨‹ç¡•å£«å­¦ä½ã€‚
            </p>
            <p>
                æˆ‘çš„ç ”ç©¶å…´è¶£ä¸»è¦é›†ä¸­åœ¨ <strong>3D è®¡ç®—æœºè§†è§‰</strong> å’Œ <strong>åœºæ™¯æ„ŸçŸ¥ç®—æ³•</strong>ã€‚
                å…·ä½“æ¥è¯´ï¼Œæˆ‘è‡´åŠ›äºåˆ©ç”¨ <strong>3D Gaussian Splatting</strong>æŠ€æœ¯è¿›è¡Œé«˜è´¨é‡çš„åœºæ™¯é‡å»ºï¼Œ
                å¹¶æ¢ç´¢å¦‚ä½•å°†è¿™äº›ç¯å¢ƒè¡¨å¾åº”ç”¨äº <strong>è‡ªåŠ¨é©¾é©¶</strong> å’Œ <strong>æœºå™¨äººä»¿çœŸ</strong> ä¸­ï¼Œä½¿æœºå™¨äººèƒ½å¤Ÿåƒäººç±»ä¸€æ ·ç†è§£å¹¶ä¸å¤æ‚çš„ç‰©ç†ä¸–ç•Œäº¤äº’ã€‚
            </p>
            <p>
                è¿‘æœŸï¼Œæˆ‘ä¹Ÿåœ¨æ¢ç´¢ <strong>ç«¯åˆ°ç«¯è‡ªåŠ¨é©¾é©¶</strong> ä¸­çš„ä¸–ç•Œæ¨¡å‹ä¸ VLA (Vision-Language-Action) ç®—æ³•ã€‚
            </p>
        </section>

        <section class="content-section">
            <div class="section-title">é¡¹ç›®å±•ç¤º (Project Demos)</div>

            <div class="video-item">
                <div class="video-info">
                    <strong>MinuteMind: Gaussian-Based Minute-Level Scene Understanding</strong>
                    <em>ICRA 2026 (Paper Demo)</em>
                    <p>
                        æå‡ºäº†ä¸€ç§åŸºäº 3DGS ç”¨äºå¼€æ”¾è¯æ±‡ 3D åœºæ™¯ç†è§£çš„æ¡†æ¶ï¼Œå‡å°‘äº† <span class="heiti">51%</span> çš„å†…å­˜å ç”¨ï¼Œè¯­ä¹‰é‡å»ºè¿‡ç¨‹åŠ é€Ÿäº† <span class="heiti">27</span> å€ï¼Œæé«˜äº†å‡ ä½•é‡å»ºçš„ç²¾åº¦ï¼Œå¹¶ä¸ºé«˜æ–¯ç‚¹äº‘åˆ†é…å‡†ç¡®çš„<span class="heiti">è¯­ä¹‰å±æ€§</span>ã€‚
                    </p>
                </div>
                <div class="video-wrapper">
                    <video controls preload="metadata" poster="./imgs/icra.png">
                        <source src="./video/gxz_icra.mp4" type="video/mp4">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                    </video>
                </div>
            </div>
            <div class="video-item">
                <div class="video-info">
                    <!-- <strong>
                        <a href="https://github.com/ldexuan/Mini_VLA" target="_blank" style="color: inherit; text-decoration: none; cursor: pointer;">
                            åŸºäº Qwen2.5-VL çš„è‡ªåŠ¨é©¾é©¶ VLA æ¨¡å‹å®è·µ ğŸ”—
                        </a>
                    </strong> -->
                    <strong>åŸºäº Qwen2.5-VL çš„è‡ªåŠ¨é©¾é©¶ VLA æ¨¡å‹å®è·µ</strong>
                    
                    <em>Self-study Project: End-to-End AD with VLM</em>
                    <p>
                        è¿™æ˜¯ä¸€ä¸ªæ¢ç´¢Vision-Language-Action (VLA)åœ¨è‡ªåŠ¨é©¾é©¶ä¸­åº”ç”¨çš„å®è·µé¡¹ç›®ã€‚æˆ‘åˆ©ç”¨nuScenesæ•°æ®é›†æ„å»ºäº†é©¾é©¶åœºæ™¯é—®ç­”å¯¹ (QA Pairs)ï¼Œå¹¶ä½¿ç”¨LLaMA Factoryæ¡†æ¶å¯¹Qwen2.5-VL-3Bå¤šæ¨¡æ€å¤§æ¨¡å‹è¿›è¡Œäº†loraå¾®è°ƒã€‚è§†é¢‘å±•ç¤ºäº†å¾®è°ƒåçš„æ¨¡å‹å¯¹å¤æ‚äº¤é€šåœºæ™¯çš„ç†è§£ä¸æ¨ç†èƒ½åŠ›ã€‚
                        <br>
                        <!-- <span style="font-size: 0.9em;">
                            [ Code: <a href="https://github.com/ldexuan/Mini_VLA" target="_blank" style="color: #0066cc;">https://github.com/ldexuan/Mini_VLA</a> ]
                        </span> -->
                    </p>
                </div>
                <div class="video-wrapper">
                    <video controls preload="metadata" poster="./imgs/vla.jpg">
                        <source src="./video/vla.mp4" type="video/mp4">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                    </video>
                </div>
            </div>
            
            <div class="video-item">
                <div class="video-info">
                    <strong>é¢å‘å¤æ‚æ¡Œé¢çš„ç‰©ä½“çº§è¯­ä¹‰å»ºæ¨¡</strong>
                    <em>ä¸œåŒ—å¤§å­¦æœ¬ç§‘ä¼˜ç§€æ¯•ä¸šè®¾è®¡</em>
                    <p>
                        ç»“åˆ ORB-SLAM å’Œ YOLO æ£€æµ‹ï¼Œå¼•å…¥æ•°æ®å…³è”å’Œç‰©ä½“å‚æ•°åŒ–ç­–ç•¥ï¼Œæ„å»º<span class="heiti">ç‰©ä½“å±‚çº§çš„è¯­ä¹‰æ„ŸçŸ¥ç³»ç»Ÿ</span>ã€‚
                    </p>
                </div>
                <div class="video-wrapper">
                    <video controls preload="metadata" poster="./imgs/EAO.png">
                        <source src="./video/EAO.mp4" type="video/mp4">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                    </video>
                </div>
            </div>


            <div class="video-item">
                <div class="video-info">
                    <strong>é«˜æ²‰æµ¸æ„Ÿè™šå®èåˆæ€åŠ¿å¯è§†åŒ–ç³»ç»Ÿ</strong>
                    <em>*** è®¾è®¡ç ”ç©¶é™¢ã€*** ä»¿çœŸä¸­å¿ƒ</em>
                    <p>
                        åŸºäºä¸Šè¿°ã€Šé¢å‘å¤æ‚æ¡Œé¢çš„ç‰©ä½“çº§è¯­ä¹‰å»ºæ¨¡ã€‹çš„ç ”ç©¶ï¼Œå®ç°ç‰©ä½“çº§çš„åœºæ™¯ç†è§£ã€‚
                        é‡‡ç”¨ <span class="heiti">3DGS</span> åšä¸ºåœºæ™¯è¡¨è¾¾ï¼Œä½¿ç”¨ä½“ç´ åˆ†å‰²åœºæ™¯ï¼Œå¹¶åœ¨ä½“ç´ ä¸­å­˜å‚¨å‡ ä½•ä¸å¤–è§‚ä¿¡æ¯ï¼Œé€šè¿‡ MLP ç½‘ç»œè§£ç ç”Ÿæˆé¢å…ƒã€‚åœ¨é‡å»ºåœºæ™¯ä¸­<span class="heiti">ä»¿çœŸåŒç›®æ¸²æŸ“å›¾åƒ</span>ï¼Œåˆ©ç”¨DLNRæ¨¡å‹ä¼°è®¡æ·±åº¦å›¾ï¼Œä¹‹åé€šè¿‡ TSDF å’Œ Marching Cubes è·å¾— meshã€‚
                        åœ¨ Unity ä¸­ï¼Œè™šæ‹Ÿç‰©ä½“å¯ä»¥ä¸é‡å»ºåœºæ™¯ä¸­çš„ç‰©ä½“è¿›è¡Œäº¤äº’ï¼Œå¯ä»¥é€šè¿‡<span class="heiti">è¯­è¨€</span>ç­‰å½¢å¼æ§åˆ¶è™šæ‹Ÿç‰©ä½“å‘ç”ŸåŠ¨ä½œï¼Œæœ€ç»ˆç»“æœå±•ç¤ºåœ¨ Rokid çœ¼é•œä¸Šå®ç° AR æ•ˆæœã€‚
                    </p>
                </div>
                
                <div class="viewer-wrapper">
                    <!-- å°é¢ -->
                    <div class="viewer-cover" id="viewer-cover">
                        <img src="./imgs/shapan.png" alt="3Dæ¨¡å‹å°é¢">
                        <div class="play-button">â–¶</div>
                    </div>

                    <div class="loading-overlay" id="loading-overlay" style="display: none;">
                        <div class="loading-spinner"></div>
                        <div id="loading-text">æ­£åœ¨åŠ è½½ 3D æ¨¡å‹...</div>
                        <div id="loading-progress" style="margin-top: 10px; font-size: 0.9em;"></div>
                    </div>
                    <div class="viewer-controls" style="display: none;" id="viewer-controls">
                        <div>ğŸ–±ï¸ å·¦é”®æ‹–åŠ¨æ—‹è½¬ | ğŸ” æ»šè½®ç¼©æ”¾ | å³é”®æ‹–åŠ¨å¹³ç§»</div>
                    </div>
                    <canvas id="ply-viewer"></canvas>
                </div>


            </div>


        </section>

        <section class="content-section">
            <div class="section-title">è·å¥–è£èª‰ (Honors & Awards)</div>
            <ul>
                <li><strong>2022, 2023:</strong> ä¸œåŒ—å¤§å­¦ä¸€ç­‰å¥–å­¦é‡‘</li>
                <li><strong>2022, 2023:</strong> ä¸œåŒ—å¤§å­¦å›½å®¶åŠ±å¿—å¥–å­¦é‡‘</li>
                <li><strong>2022, 2023:</strong> ä¸œåŒ—å¤§å­¦ä¼˜ç§€å­¦ç”Ÿå¹²éƒ¨</li>
                <li><strong>2024, 2025:</strong> ä¸œåŒ—å¤§å­¦ä¼˜ç§€ç ”ç©¶ç”Ÿä¸€ç­‰å¥–å­¦é‡‘</li>
                <!-- <li><strong>2021-2024:</strong> å“ˆå°”æ»¨ç†å·¥å¤§å­¦å¤§å­¦ä¼˜ç§€å­¦ç”Ÿä¸€ç­‰å¥–å­¦é‡‘ (è¿ç»­ä¸‰å¹´)</li> -->
            </ul>
        </section>

    </div>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { PLYLoader } from 'three/addons/loaders/PLYLoader.js';

        // è·å–DOMå…ƒç´ 
        const canvas = document.getElementById('ply-viewer');
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');
        const loadingProgress = document.getElementById('loading-progress');
        const viewerControls = document.getElementById('viewer-controls');
        const viewerCover = document.getElementById('viewer-cover');

        // åˆå§‹åŒ–åœºæ™¯
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x404040);

        // è®¾ç½®ç›¸æœº
        const camera = new THREE.PerspectiveCamera(
            60,
            canvas.parentElement.clientWidth / canvas.parentElement.clientHeight,
            0.1,
            2000
        );
        camera.position.set(10, 10, 10);

        // è®¾ç½®æ¸²æŸ“å™¨
        const renderer = new THREE.WebGLRenderer({
            canvas: canvas,
            antialias: true
        });
        renderer.setSize(canvas.parentElement.clientWidth, canvas.parentElement.clientHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        // æ·»åŠ è½¨é“æ§åˆ¶å™¨
        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.minDistance = 0.5;
        controls.maxDistance = 100;
        controls.autoRotate = false;

        // ç§»é™¤è§’åº¦é™åˆ¶ï¼Œå…è®¸è‡ªç”±æ—‹è½¬
        controls.minPolarAngle = 0; // å‚ç›´æ—‹è½¬æœ€å°è§’åº¦
        controls.maxPolarAngle = Math.PI; // å‚ç›´æ—‹è½¬æœ€å¤§è§’åº¦
        controls.enablePan = true; // å…è®¸å¹³ç§»ï¼ˆå³é”®æ‹–åŠ¨ï¼‰

        // æ·»åŠ æ›´å¼ºçš„å…‰ç…§ - æé«˜äº®åº¦
        const ambientLight = new THREE.AmbientLight(0xffffff, 2.5);
        scene.add(ambientLight);

        const directionalLight1 = new THREE.DirectionalLight(0xffffff, 2.0);
        directionalLight1.position.set(20, 20, 20);
        scene.add(directionalLight1);

        const directionalLight2 = new THREE.DirectionalLight(0xffffff, 1.5);
        directionalLight2.position.set(-20, 10, -20);
        scene.add(directionalLight2);

        const directionalLight3 = new THREE.DirectionalLight(0xffffff, 1.2);
        directionalLight3.position.set(0, -20, 0);
        scene.add(directionalLight3);

        // æ·»åŠ ç½‘æ ¼è¾…åŠ©çº¿ï¼ˆå¯é€‰ï¼Œç”¨äºè°ƒè¯•ï¼‰
        const gridHelper = new THREE.GridHelper(20, 20, 0x444444, 0x222222);
        scene.add(gridHelper);

        // æ˜¯å¦å·²åŠ è½½æ¨¡å‹
        let modelLoaded = false;

        // åŠ è½½æ¨¡å‹å‡½æ•°
        function loadModel() {
            if (modelLoaded) return;
            modelLoaded = true;

            console.log('å¼€å§‹åŠ è½½ PLY æ–‡ä»¶...');

            // åŠ è½½ PLY æ–‡ä»¶
            const loader = new PLYLoader();
            loader.load(
                './ply/shapan.ply',
                function (geometry) {
                    console.log('PLY æ–‡ä»¶åŠ è½½æˆåŠŸï¼');
                    loadingText.textContent = 'å¤„ç†æ¨¡å‹æ•°æ®...';

                    // ä½¿ç”¨ setTimeout è®©UIæœ‰æ—¶é—´æ›´æ–°
                    setTimeout(() => {
                        try {
                            geometry.computeVertexNormals();
                            console.log('é¡¶ç‚¹æ•°:', geometry.attributes.position.count);

                            // åˆ›å»ºæè´¨ - ä½¿ç”¨æ›´äº®çš„æè´¨
                            const material = new THREE.MeshPhongMaterial({
                                color: 0xf0f0f0,
                                flatShading: false,
                                side: THREE.DoubleSide,
                                shininess: 50,
                                emissive: 0x211111  // æ·»åŠ è‡ªå‘å…‰
                            });

                            // å¦‚æœ PLY æ–‡ä»¶åŒ…å«é¢œè‰²ä¿¡æ¯ï¼Œä½¿ç”¨é¡¶ç‚¹é¢œè‰²
                            if (geometry.attributes.color) {
                                material.vertexColors = true;
                                console.log('ä½¿ç”¨é¡¶ç‚¹é¢œè‰²');
                            }

                            // åˆ›å»ºç½‘æ ¼
                            const mesh = new THREE.Mesh(geometry, material);

                            // å±…ä¸­æ¨¡å‹
                            geometry.computeBoundingBox();
                            const boundingBox = geometry.boundingBox;
                            const center = new THREE.Vector3();
                            boundingBox.getCenter(center);
                            mesh.position.sub(center);

                            scene.add(mesh);
                            console.log('æ¨¡å‹å·²æ·»åŠ åˆ°åœºæ™¯');

                            // è°ƒæ•´ç›¸æœºä½ç½®ä»¥é€‚åº”æ¨¡å‹
                            const size = boundingBox.getSize(new THREE.Vector3());
                            const maxDim = Math.max(size.x, size.y, size.z);
                            const fov = camera.fov * (Math.PI / 180);
                            let cameraZ = Math.abs(maxDim / 2 / Math.tan(fov / 2));
                            cameraZ *= 1.5; // ç¨å¾®è¿œä¸€ç‚¹

                            camera.position.set(cameraZ, cameraZ * 0.8, cameraZ);
                            camera.lookAt(0, 0, 0);
                            controls.target.set(0, 0, 0);
                            controls.update();

                            console.log('æ¨¡å‹å°ºå¯¸:', size);
                            console.log('ç›¸æœºä½ç½®:', camera.position);

                            // éšè—åŠ è½½æç¤ºï¼Œæ˜¾ç¤ºæ§åˆ¶æç¤º
                            loadingOverlay.style.display = 'none';
                            viewerControls.style.display = 'block';

                            // ç§»é™¤ç½‘æ ¼è¾…åŠ©çº¿
                            scene.remove(gridHelper);

                        } catch (error) {
                            console.error('å¤„ç†æ¨¡å‹æ—¶å‡ºé”™:', error);
                            loadingText.textContent = 'å¤„ç†æ¨¡å‹å¤±è´¥';
                            loadingProgress.textContent = error.message;
                        }
                    }, 100);
                },
                function (xhr) {
                    const percentComplete = xhr.total > 0 ? (xhr.loaded / xhr.total * 100) : 0;
                    loadingProgress.textContent = `å·²åŠ è½½: ${(xhr.loaded / 1024 / 1024).toFixed(1)} MB / ${(xhr.total / 1024 / 1024).toFixed(1)} MB (${Math.round(percentComplete)}%)`;
                    console.log(`åŠ è½½è¿›åº¦: ${percentComplete.toFixed(2)}%`);
                },
                function (error) {
                    console.error('åŠ è½½ PLY æ–‡ä»¶æ—¶å‡ºé”™:', error);
                    loadingText.textContent = 'åŠ è½½å¤±è´¥ï¼';
                    loadingProgress.textContent = 'æ— æ³•åŠ è½½ ./ply/shapan.ply';
                    loadingProgress.innerHTML += '<br>è¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®';
                }
            );
        }

        // ç‚¹å‡»å°é¢äº‹ä»¶
        viewerCover.addEventListener('click', function() {
            // éšè—å°é¢
            viewerCover.classList.add('hidden');
            // æ˜¾ç¤ºåŠ è½½æç¤º
            loadingOverlay.style.display = 'flex';
            // å¼€å§‹åŠ è½½æ¨¡å‹
            loadModel();
        });

        // åŠ¨ç”»å¾ªç¯
        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        // çª—å£å¤§å°è°ƒæ•´
        window.addEventListener('resize', () => {
            const width = canvas.parentElement.clientWidth;
            const height = canvas.parentElement.clientHeight;
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            renderer.setSize(width, height);
        });
    </script>

</body>
</html>
